---
siteTitle: 11ty & Notion API (beta) as Headless CMS
---
<!doctype html>
<html lang="en">
 <head>
  <meta charset="utf-8">
  <title>{{ siteTitle }}</title>
  <link rel="stylesheet" href="https://cdn.rawgit.com/kimeiga/bahunya/css/bahunya-0.1.3.css"/>
  <style>

    /** just for bahunya */
    body {
      padding-left: 1rem;
      padding-right: 1rem;
    }
    
    .font-bold {
      font-weight: 700;
    }
    .italic {
      font-style: italic;
    }

    .underline {
      text-decoration: underline;
    }

    .line-through {
      text-decoration: line-through;
    }

    .code {
      font-family: monospace;
    }

    .yellow {
      color: yellow;
      }
    .gray {
      color: gray;
      }
    .brown {
      color: brown;
      }
    .orange {
      color: orange;
      }
    .green {
      color: green;
      }
    .blue {
      color: blue;
      }
    .purple {
      color: purple;
      }
    .red {
      color: red;
      }

  </style>
 </head>
 <body>
   <header><nav><h1><a href="#">{{siteTitle}}</a></h1></nav></header>
 	<blockquote>
     <a href="https://fubits.notion.site/fubits/Notion-CMS-Test-dbfab7a2a2bf476d96fb50222ff0c481">Notion Sources</a> | Articles: {{ articles.length | safe }}
  </blockquote>

  {% for article in articles %}
  <hr>
  <section>
    <h1>Title: {{ article.title }}</h1>
    <h3>Subtitle: {{ article.subtitle }}</h3>
    <blockquote><span>Date: {{ article.authors }}</span> - <span>Authors: {{ article.date }}</span></blockquote>

    {% set listItemCounter = 0 %}
    
    {% for block in article.body %}

      {% switch block.block_type %}
        {% case "heading_1" %}
          <h2>{% for elem in block.parsedText %}
          {{- elem | safe -}}
          {% endfor %}</h2>
        {% case "heading_2" %}
          <h3>{% for elem in block.parsedText %}
          {{- elem | safe -}}
          {% endfor %}</h3>
        {% case "heading_3" %}
          <h4>{% for elem in block.parsedText %}
          {{- elem | safe -}}
          {% endfor %}</h4>
        {% case "paragraph" %}
          <p>{% for elem in block.parsedText %}
          {{- elem | safe -}}
          {% endfor %}</p>
        {% case "bulleted_list_item" %}
            {% if listItemCounter == 0 %}
              <ul>
            {% endif %}
            {% set listItemCounter = listItemCounter + 1 %}
                <li>{% for elem in block.parsedText %}
                      {{- elem | safe -}}
                    {% endfor %}</li>
            {% if block.next_block_type != "bulleted_list_item" %}
              {% set listItemCounter = 0 %}
              </ul>
            {% endif %}
        {% case "numbered_list_item" %}
            {% if listItemCounter == 0 %}
              <ol>
            {% endif %}
            {% set listItemCounter = listItemCounter + 1 %}
                <li>{% for elem in block.parsedText %}
                      {{- elem | safe -}}
                      {% endfor %}</li>
            {% if block.next_block_type != "numbered_list_item" %}
              {% set listItemCounter = 0 %}
              </ol>
            {% endif %}
        {% default %}
          <em>(ERROR - Uncaught Case - Type: {{- block.block_type -}})</em>
          {% for elem in block.parsedText %}
            <div>{{- elem | safe -}}</div>
          {% endfor %}          
      {% endswitch %}
    {% endfor %}
  </section>
  {% endfor %}

<footer><a href="https://twitter.com/fubits">@fubits</a> | <a href="https://gitlab.com/fubits/11ty-notion-api">Gitlab</a> | <a href="https://kimeiga.github.io/bahunya/">Bahunya CSS</a></footer>
 </body>
</html>
